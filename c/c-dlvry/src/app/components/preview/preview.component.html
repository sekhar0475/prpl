<section class="preview_sec">
  <div class="container">
    <div class="preview_main_card">
      <section class="mgsg_print_sec">
        <div class="row" style="position: relative;">
          <div class="col-md-3">
            <div class="row">
              <div class="col-md-6">
                <p style="cursor: pointer !important;" (click)="sendEmail()"><img alt="img"
                    src="../assets/images/envelope.png"> <strong>Email</strong></p>
              </div>
              <div class="col-md-6">
                <button
                  style="cursor: pointer !important;width: 12rem;font-size: 2.8rem; border: none; background: transparent;left:0; top: 0.7rem; display: flex;"
                  [useExistingCss]="true" printTitle="{{previewList?.companyName}}" printSectionId="previewContent"
                  ngxPrint> <img alt="img" src="../assets/images/printer.png">
                  <p style="font-weight: bold;">Print</p>
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-1 col-md-offset-7" *ngIf="!editflow">
            <button mat-button class="theme-button"
              *ngxPermissionsOnly="['VIEW CONTRACT_CREATE','VIEW CONTRACT_UPDATE']"
              (click)="sendContractId($event)">Submit</button>
          </div>
          <div class="col-md-3 col-md-offset-6" *ngIf="editflow">
            <button mat-button class="theme-button pull-right"
              *ngxPermissionsOnly="['VIEW CONTRACT_CREATE','VIEW CONTRACT_UPDATE']" (click)="openEditPreview()">Verify
              Updated Changes</button>
          </div>
          <div class="backButton" (click)="closePreview($event)">
            <span>
              <mat-icon>close</mat-icon>
            </span>
          </div>
        </div>
      </section>
      <div id="previewContent" #previewContent>
       <div class="width-1000" style="margin : auto;">
        <section class="preview_sec_1 width-800">
          <div class="row">
            <div class="col-md-6">
              <h3><strong>Delivery Associate Contract</strong></h3>
            </div>
            <div class="col-md-6 text-right">
              <h3>Preview Generated on: {{currentDt | date: 'dd/MM/yyyy'}}</h3>
            </div>
          </div>
        </section>
        <section class="preview_sec_2 width-800">
          <div class="row">
            <div class="col-md-6">
              <h3 class="font-thin break-word"><strong class="strong-text row_center">Organisation Name:</strong> {{previewList?.companyName == null ? 'NA' : previewList?.companyName}}</h3>
              <h3 class="font-thin break-word"><strong class="strong-text">Associate Category:</strong> {{previewList?.asscoCtrgy == null ? 'NA' : previewList?.asscoCtrgy}}</h3>
            </div>
            <div class="col-md-6">
              <div class="text_right">
                <h3 class="font-thin break-word"><strong  class="strong-text">Contract Code:</strong> {{previewList?.cntrCode == null ? 'NA' : previewList?.cntrCode}}</h3>
                <h3 class="font-thin break-word"><strong  class="strong-text">W.E.F:</strong> {{previewList?.wefDate == null ? 'NA' : previewList?.wefDate | date: 'dd/MM/yyyy'}}</h3>
              </div>
            </div>
          </div>
        </section>
        <section class="preview_sec_3 width-800">
          <h3><strong>Contract Details</strong></h3>
          <div class="row">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Sub Delivery</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.subDeliveryName == null ? 'NA' : previewList?.contractDetals?.subDeliveryName}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>End Date</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.expDt == null ? 'NA' : previewList?.contractDetals?.expDt | date: 'dd/MM/yyyy'}}
                  </div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Delivery Weight Slab</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.weightSlabFrom == null ? 'NA' : previewList?.contractDetals?.weightSlabFrom }} TO
                    {{previewList?.contractDetals?.weightSlabTo == null ? 'NA' : previewList?.contractDetals?.weightSlabTo}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Delivery Type</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.scheduledDeliveryFlag == 1 ?
                    'SCHEDULED' : ''}} <span *ngIf="previewList?.contractDetals?.scheduledDeliveryFlag == 1 && 
                  previewList?.contractDetals?.safextDeliveryFlag == 1">,</span>
                    {{previewList?.contractDetals?.safextDeliveryFlag == 1 ? 'SAFEXTENTION' : ''}}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Start Date</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.effectiveDt == null ? 'NA' : previewList?.contractDetals?.effectiveDt | date:
                    'dd/MM/yyyy'}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Billing Cycle</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.lkpPymtFreqId == null ? 'NA' : previewList?.contractDetals?.lkpPymtFreqId | lookupValue :
                    "descr" : previewRefList?.billingCycleList}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Service Offering</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.serviceOffrNames == null ? 'NA' : previewList?.contractDetals?.serviceOffrNames}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Status</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.contractDetals?.statusName == "EDIT" ?
                    "ACTIVE" : previewList?.contractDetals?.statusName}}</div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="preview_sec_3 width-800 preview_sec_4">
          <h3><strong>Allocation</strong></h3>
          <h3 style="font-weight: bold;"> Branch</h3>
          <div class="row">
            <div class="col-md-12">
              <div class="mat-table prvw_tbl  preview_table_2">
                <div class="mat-row border_none">
                  <div class="mat-cell pab_table_head width-200">Branch Name</div>
                  <div class="mat-cell pab_table_head width-200">Branch Type</div>
                  <div class="mat-cell pab_table_head width-100">Effective Date</div>
                  <div class="mat-cell pab_table_head width-100">Expiry Date</div>
                  <div class="mat-cell pab_table_head width-200">Vehicle Assigned</div>
                </div>
                <div class="mat-row border_none"
                  *ngFor="let branch of previewList?.branchAllocationList; let i = index" style="page-break-inside: avoid;">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{branch.branchName == null ? 'NA' : branch.branchName}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">{{branch.branchType == null ? 'NA' : branch.branchType}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{branch.efftvDate == null ? 'NA' : branch.efftvDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{branch.exprDate == null ? 'NA' : branch.exprDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-200"> {{branch.assignedVehicle == null ? 'NA' : branch.assignedVehicle}} </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        
        <section class="preview_sec_3 width-800 preview_sec_4">
        <div  style="page-break-inside: avoid;">
          <h3><strong>Payment Terms</strong></h3>
          <!--  Schedule Payout if not PCD selected start -->
          <h3 *ngIf="previewList?.scheduled_Payout !== undefined && !isPCD"><strong>Scheduled Payout</strong></h3>

        </div>
          
          <div class="row payment_base_t"  style="page-break-inside: avoid;"
            *ngIf="previewList?.scheduled_Payout != undefined && previewList?.scheduled_Payout.dlvryPayoutCtgy && !isPCD">
            <div class="col-md-3">
              <div class="customer_preview">
                <p><strong>GENERAL</strong></p>
              </div>
            </div>
          </div>
          <div *ngIf="previewList?.scheduled_Payout !== undefined && !isPCD">
            <div class="row payment_base_t"   style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Payout Scenario</strong></div>
                    <div class="mat-cell preview_table_bg_2">
                      {{getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                    <div class="mat-cell preview_table_bg_1"><strong>Weight Basis</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.wtBasis == null ? 'NA' : previewList?.scheduled_Payout?.wtBasis}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                    <div class="mat-cell preview_table_bg_1"><strong>Product List</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.productNames == null ? 'NA' : previewList?.scheduled_Payout?.productNames}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Weight Type</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.wtType == null ? 'NA' : previewList?.scheduled_Payout?.wtType}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Waybill</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Product Category</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.prdctCtgyName == null ? 'NA' : previewList?.scheduled_Payout?.prdctCtgyName}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Product</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}}</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- If payout based on BOOKING start-->
            <div class="row"
              *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'"   style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_2">
                  <div class="mat-row border_none">
                    <div class="mat-cell pab_table_head width-200">WEIGHT</div>
                    <div class="mat-cell pab_table_head width-200">RATE PER KG</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngFor="let data of previewList?.scheduled_Payout?.deliveryWtSlabChargeList; let i = index">
                    <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo  == null ? '' : data?.wtSlabTo}}</div>
                    <div class="mat-cell pab_table_dis1 width-200">₹ {{data?.price == null ? 'NA' : data?.price}}</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row payment_base_t"   style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Additional Amount Applicable</div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.addtnlAmtFlag == 1 ? 'YES'
                      : 'NO'}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                    <div class="mat-cell preview_table_bg_1">Trip Based On</div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.tripOpt == null ? 'NA' : previewList?.scheduled_Payout?.tripOpt}}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="previewList?.scheduled_Payout?.addtnlPymtType != 'PER TRIP' && 
              previewList?.scheduled_Payout?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">
                      <span *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle
                        Induction</span>
                      <span *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per
                        Waybill</span>
                    </div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Same Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{previewList?.scheduled_Payout?.sameDayIncntv == null ? '0' : previewList?.scheduled_Payout?.sameDayIncntv}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Second Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{previewList?.scheduled_Payout?.secondDayIncntv == null ? '0' : previewList?.scheduled_Payout?.secondDayIncntv}}
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none" *ngIf="previewList?.scheduled_Payout?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">Payment Basics</div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.addtnlPymtType == null ? 'NA' : previewList?.scheduled_Payout?.addtnlPymtType}}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="(previewList?.scheduled_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
              && previewList?.scheduled_Payout?.tripOpt == 'HOLISTIC RATE'">
                    <div class="mat-cell preview_table_bg_1">Rate Per Trip</div>
                    <div class="mat-cell preview_table_bg_2">{{previewList?.scheduled_Payout?.addtnlPrice == null ? 'NA' : previewList?.scheduled_Payout?.addtnlPrice}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Next Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{previewList?.scheduled_Payout?.nextDayIncntv == null ? '0' : previewList?.scheduled_Payout?.nextDayIncntv }}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Third Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{previewList?.scheduled_Payout?.thirdDayIncntv == null ? '0' : previewList?.scheduled_Payout?.thirdDayIncntv}}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!--  Schedule Payout if not PCD selected end -->

        <!--  Safextention Payout if not PCD selected start -->
        <section class="preview_sec_3 width-800 preview_sec_4 preview_sec_5"
          *ngIf="previewList?.safextension_Payout !== undefined && !isPCD">
          <div class="row payment_base_t"   style="page-break-inside: avoid;" *ngIf="previewList?.scheduled_Payout == undefined && previewList?.safextension_Payout != undefined
             && previewList?.safextension_Payout.dlvryPayoutCtgy && !isPCD">
            <div class="col-md-3">
              <div class="customer_preview">
                <p><strong>GENERAL</strong></p>
              </div>
            </div>
          </div>
          <h3   style="page-break-inside: avoid;"><strong>Safextension Payout</strong></h3>
          <div class="row payment_base_t"   style="page-break-inside: avoid;">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Payout Scenario</strong></div>
                  <div class="mat-cell preview_table_bg_2">
                    {{getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)}}</div>
                </div>
                <div class="mat-row border_none"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  <div class="mat-cell preview_table_bg_1"><strong>Rate Per KG</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}</div>
                </div>
                <div class="mat-row border_none"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                  <div class="mat-cell preview_table_bg_1"><strong>Product List</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.productNames == null  ? 'NA' : previewList?.safextension_Payout?.productNames}}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  <div class="mat-cell preview_table_bg_1"><strong>Weight Type</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.wtType == null  ? 'NA' : previewList?.safextension_Payout?.wtType}}</div>
                </div>
                <div class="mat-row border_none"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  <div class="mat-cell preview_table_bg_1"><strong>Min. Amount Per Waybill</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.minAmtWaybill == null  ? 'NA' : previewList?.safextension_Payout?.minAmtWaybill}}</div>
                </div>
                <div class="mat-row border_none"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                  <div class="mat-cell preview_table_bg_1"><strong>Rate Per Waybill</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2"
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Product Category</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.prdctCtgyName == null  ? 'NA' : previewList?.safextension_Payout?.prdctCtgyName}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Rate Per Product</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}</div>
                </div>
              </div>
            </div>
          </div>
          <!-- If payout based on WEIGHT BASIS start-->
          <div class="row"   style="page-break-inside: avoid;"
            *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_2">
                <div class="mat-row border_none">
                  <div class="mat-cell pab_table_head width-200">WEIGHT</div>
                  <div class="mat-cell pab_table_head width-200">RATE PER KG</div>
                </div>
                <div class="mat-row border_none"
                  *ngFor="let data of previewList?.safextension_Payout?.deliveryWtSlabChargeList; let i = index">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2">{{data?.wtSlabFrom == null  ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo == null  ? '' : data?.wtSlabTo}}</div>
                  <div class="mat-cell pab_table_dis1">₹ {{data?.price == null  ? '0' : data?.price}}</div>
                </div>
              </div>
            </div>
          </div>
          <!-- If payout based on WEIGHT BASIS end-->
          <div class="row payment_base_t"   style="page-break-inside: avoid;">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Additional Amount Applicable</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.addtnlAmtFlag == 1 ?
                    'YES' : 'NO'}}</div>
                </div>
                <div class="mat-row border_none"
                  *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                  <div class="mat-cell preview_table_bg_1">Trip Based On</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.tripOpt == null ? 'NA' : previewList?.safextension_Payout?.tripOpt}}</div>
                </div>
                <div class="mat-row border_none" *ngIf="previewList?.safextension_Payout?.addtnlPymtType != 'PER TRIP' && 
              previewList?.safextension_Payout?.addtnlAmtFlag == 1">
                  <div class="mat-cell preview_table_bg_1">
                    <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle
                      Induction</span>
                    <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per
                      Waybill</span>
                  </div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.price == null ? 'NA' : previewList?.safextension_Payout?.price}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Same Day On Time Delivery Incentive</div>
                  <div class="mat-cell preview_table_bg_2">₹ {{previewList?.safextension_Payout?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.sameDayIncntv}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Second Day On Time Delivery Incentive</div>
                  <div class="mat-cell preview_table_bg_2">₹ {{previewList?.safextension_Payout?.secondDayIncntv == null ? '0' : previewList?.safextension_Payout?.secondDayIncntv}}
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none" *ngIf="previewList?.safextension_Payout?.addtnlAmtFlag == 1">
                  <div class="mat-cell preview_table_bg_1">Payment Basics</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.addtnlPymtType == null ? 'NA' : previewList?.safextension_Payout?.addtnlPymtType}}</div>
                </div>
                <div class="mat-row border_none" *ngIf="(previewList?.safextension_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
              && previewList?.safextension_Payout?.tripOpt == 'HOLISTIC RATE'">
                  <div class="mat-cell preview_table_bg_1">Rate Per Trip</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.safextension_Payout?.addtnlPrice == null ? 'NA' : previewList?.safextension_Payout?.addtnlPrice}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Next Day On Time Delivery Incentive</div>
                  <div class="mat-cell preview_table_bg_2">₹ {{previewList?.safextension_Payout?.nextDayIncntv == null ? '0' : previewList?.safextension_Payout?.nextDayIncntv}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Third Day On Time Delivery Incentive</div>
                  <div class="mat-cell preview_table_bg_2">₹ {{previewList?.safextension_Payout?.thirdDayIncntv == null ? '0' : previewList?.safextension_Payout?.thirdDayIncntv}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!--  Safextention Payout if not PCD selected end -->

        <!-- Customer Schedule Payout start -->
        <ng-container *ngIf="previewList?.scheduled_Payout != undefined">
          <section class="preview_sec_3 preview_sec_4 preview_sec_5  width-800"
            *ngFor="let custComm of previewList?.scheduled_Payout?.customerCommercial; let m=index " >
            <div class="row payment_base_t"   style="page-break-inside: avoid;">
              <div class="col-md-6">
                <div class="customer_preview">
                  <p><strong>Customer: </strong> <span style="text-transform: uppercase;">{{custComm?.attr1 == null ? 'NA' : custComm?.attr1}}</span></p>
                  <p><strong>SFX/ PRC Code:</strong> {{custComm?.cntrCode == null ? 'NA' : custComm?.cntrCode}}</p>
                </div>
              </div>
            </div>
            <h3  style="page-break-inside: avoid;"><strong>Scheduled Payout</strong></h3>

            <div class="row payment_base_t"   style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Payout Scenario</strong></div>
                    <div class="mat-cell preview_table_bg_2">
                      {{getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                    <div class="mat-cell preview_table_bg_1"><strong>Weight Basis</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.wtBasis == null ? 'NA' : custComm?.wtBasis}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                    <div class="mat-cell preview_table_bg_1"><strong>Product List</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.productNames == null ? 'NA' : custComm?.productNames}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Weight Type</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.wtType == null ? 'NA' : custComm?.wtType}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Waybill</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.price == null ? 'NA' : custComm?.price}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Product Category</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.prdctCtgyName == null ? 'NA' : custComm?.prdctCtgyName}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Product</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.price == null ? 'NA' : custComm?.price}}</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- If payout based on BOOKING start-->
            <div class="row" *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'"  style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_2">
                  <div class="mat-row border_none">
                    <div class="mat-cell pab_table_head width-200">WEIGHT</div>
                    <div class="mat-cell pab_table_head width-200">RATE PER KG</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngFor="let data of custComm?.deliveryWtSlabChargeList; let i = index">
                    <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo == null ? '' : data?.wtSlabTo}}
                    </div>
                    <div class="mat-cell pab_table_dis1 width-200">₹ {{data?.price == null ? '0' : data?.price}}</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row payment_base_t"   style="page-break-inside: avoid;">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Additional Amount Applicable</div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="custComm?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                    <div class="mat-cell preview_table_bg_1">Trip Based On</div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.tripOpt == null ? 'NA' : custComm?.tripOpt }}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="custComm?.addtnlPymtType != 'PER TRIP' && 
              custComm?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">
                      <span *ngIf="custComm?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle Induction</span>
                      <span *ngIf="custComm?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span>
                    </div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.price == null ? 'NA' : custComm?.price}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Same Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custComm?.sameDayIncntv == null ? '0' : custComm?.sameDayIncntv}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Second Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custComm?.secondDayIncntv == null ? '0' : custComm?.secondDayIncntv}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none" *ngIf="custComm?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">Payment Basics</div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.addtnlPymtType == null ? 'NA' : custComm?.addtnlPymtType}}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="(custComm?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
              && custComm?.tripOpt == 'HOLISTIC RATE'">
                    <div class="mat-cell preview_table_bg_1">Rate Per Trip</div>
                    <div class="mat-cell preview_table_bg_2">{{custComm?.addtnlPrice == null ? 'NA' : custComm?.addtnlPrice}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Next Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custComm?.nextDayIncntv == null ? '0' : custComm?.nextDayIncntv}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Third Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custComm?.thirdDayIncntv == null ? '0' : custComm?.thirdDayIncntv}}</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Customer Safextention Payout if  Schedule + Sefextention selected start -->
            <div *ngIf="previewList?.safextension_Payout !== undefined"  style="page-break-inside: avoid;">
              <h3><strong>Safextension Payout</strong></h3>
              <div class="row payment_base_t">
                <div class="col-md-5">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1"><strong>Payout Scenario</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)}}
                      </div>
                    </div>
                    <div class="mat-row border_none"
                      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                      <div class="mat-cell preview_table_bg_1"><strong>Rate Per KG</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}</div>
                    </div>
                    <div class="mat-row border_none"
                      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                      <div class="mat-cell preview_table_bg_1"><strong>Product List</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.productNames == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.productNames}}</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-md-offset-2">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none"
                      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                      <div class="mat-cell preview_table_bg_1"><strong>Weight Type</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.wtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.wtType}}</div>
                    </div>
                    <div class="mat-row border_none"
                      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                      <div class="mat-cell preview_table_bg_1"><strong>Min. Amount Per Waybill</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill}}</div>
                    </div>
                    <div class="mat-row border_none"
                      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                      <div class="mat-cell preview_table_bg_1"><strong>Rate Per Waybill</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-md-offset-2"
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1"><strong>Product Category</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName}}</div>
                    </div>
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1"><strong>Rate Per Product</strong></div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- If payout based on WEIGHT BASIS start-->
              <div class="row"
                *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                <div class="col-md-5">
                  <div class="mat-table prvw_tbl  preview_table_2">
                    <div class="mat-row border_none">
                      <div class="mat-cell pab_table_head width-200">WEIGHT</div>
                      <div class="mat-cell pab_table_head width-200">RATE PER KG</div>
                    </div>
                    <div class="mat-row border_none"
                      *ngFor="let data of previewList?.safextension_Payout?.customerCommercial[m]?.deliveryWtSlabChargeList; let i = index">
                      <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo == null ? '' : data?.wtSlabTo}}
                      </div>
                      <div class="mat-cell pab_table_dis1 width-200">₹ {{data?.price == null ? '0' : data?.price}}</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- If payout based on WEIGHT BASIS end-->
              <div class="row payment_base_t">
                <div class="col-md-5">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">Additional Amount Applicable</div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}
                      </div>
                    </div>
                    <div class="mat-row border_none"
                      *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                      <div class="mat-cell preview_table_bg_1">Trip Based On</div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt}}</div>
                    </div>
                    <div class="mat-row border_none" *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType != 'PER TRIP' && 
                previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1">
                      <div class="mat-cell preview_table_bg_1">
                        <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After
                          Vehicle
                          Induction</span>
                        <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per
                          Waybill</span>
                      </div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}</div>
                    </div>
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">Same Day On Time Delivery Incentive</div>
                      <div class="mat-cell preview_table_bg_2">₹
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv}}</div>
                    </div>
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">Second Day On Time Delivery Incentive</div>
                      <div class="mat-cell preview_table_bg_2">₹
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv}}</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-md-offset-2">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none"
                      *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1">
                      <div class="mat-cell preview_table_bg_1">Payment Basics</div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType}}</div>
                    </div>
                    <div class="mat-row border_none" *ngIf="(previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
                && previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == 'HOLISTIC RATE'">
                      <div class="mat-cell preview_table_bg_1">Rate Per Trip</div>
                      <div class="mat-cell preview_table_bg_2">
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice}}</div>
                    </div>
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">Next Day On Time Delivery Incentive</div>
                      <div class="mat-cell preview_table_bg_2">₹
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv}}</div>
                    </div>
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">Third Day On Time Delivery Incentive</div>
                      <div class="mat-cell preview_table_bg_2">₹
                        {{previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv}}</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Customer Safextention Payout  Schedule + Sefextention selected end -->
          </section>

        </ng-container>
        <!-- Customer Schedule Payout end -->

        <!-- Customer Safextention Payout if  only Sefextention selected start -->
        <ng-container *ngIf="previewList?.scheduled_Payout == undefined">
          <section class="preview_sec_3 preview_sec_4 preview_sec_5 width-800"
            *ngFor="let custCommSafex of previewList?.safextension_Payout?.customerCommercial"   style="page-break-inside: avoid;">
            <div class="row payment_base_t">
              <div class="col-md-3">
                <div class="customer_preview">
                  <p><strong>Customer: </strong> <span style="text-transform: uppercase;">{{custCommSafex?.attr1 == null ? 'NA' : custCommSafex?.attr1}}</span>
                  </p>
                  <p><strong>SFX/ PRC Code:</strong> {{custCommSafex?.cntrCode == null ? 'NA' : custCommSafex?.cntrCode}}</p>
                </div>
              </div>
            </div>
            <h3><strong>Safextension Payout</strong></h3>
            <div class="row payment_base_t">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Payout Scenario</strong></div>
                    <div class="mat-cell preview_table_bg_2">
                      {{getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                    <div class="mat-cell preview_table_bg_1 width-200"><strong>Rate Per KG</strong></div>
                    <div class="mat-cell preview_table_bg_2 width-200">{{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                    <div class="mat-cell preview_table_bg_1 width-200"><strong>Product List</strong></div>
                    <div class="mat-cell preview_table_bg_2 width-200">{{custCommSafex?.productNames == null ? 'NA' : custCommSafex?.productNames}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                    <div class="mat-cell preview_table_bg_1"><strong>Weight Type</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.wtType == null ? 'NA' : custCommSafex?.wtType}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                    <div class="mat-cell preview_table_bg_1"><strong>Min. Amount Per Waybill</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.minAmtWaybill == null ? 'NA' : custCommSafex?.minAmtWaybill}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Waybill</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2"
                *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Product Category</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.prdctCtgyName == null ? 'NA' : custCommSafex?.prdctCtgyName }}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1"><strong>Rate Per Product</strong></div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}}</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- If payout based on WEIGHT BASIS start-->
            <div class="row" *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_2">
                  <div class="mat-row border_none">
                    <div class="mat-cell pab_table_head width-200">WEIGHT</div>
                    <div class="mat-cell pab_table_head width-200">RATE PER KG</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngFor="let data of custCommSafex?.deliveryWtSlabChargeList; let i = index">
                    <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{data?.wtSlabFrom == null ? 'NA' : data?.wtSlabFrom}} - {{data?.wtSlabTo == null ? 'NA' : data?.wtSlabTo}}</div>
                    <div class="mat-cell pab_table_dis1 width-200">₹ {{data?.price == null ? '0' : data?.price}}</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- If payout based on WEIGHT BASIS end-->
            <div class="row payment_base_t">
              <div class="col-md-5">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Additional Amount Applicable</div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</div>
                  </div>
                  <div class="mat-row border_none"
                    *ngIf="custCommSafex?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                    <div class="mat-cell preview_table_bg_1">Trip Based On</div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.tripOpt == null ? 'NA' : custCommSafex?.tripOpt}}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="custCommSafex?.addtnlPymtType != 'PER TRIP' && 
            custCommSafex?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">
                      <span *ngIf="custCommSafex?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle Induction</span>
                      <span *ngIf="custCommSafex?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span>
                    </div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Same Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custCommSafex?.sameDayIncntv == null ? '0' : custCommSafex?.sameDayIncntv}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Second Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custCommSafex?.secondDayIncntv == null ? '0' : custCommSafex?.secondDayIncntv}}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-5 col-md-offset-2">
                <div class="mat-table prvw_tbl  preview_table_1">
                  <div class="mat-row border_none" *ngIf="custCommSafex?.addtnlAmtFlag == 1">
                    <div class="mat-cell preview_table_bg_1">Payment Basics</div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.addtnlPymtType == null ? 'NA' : custCommSafex?.addtnlPymtType}}</div>
                  </div>
                  <div class="mat-row border_none" *ngIf="(custCommSafex?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
            && custCommSafex?.tripOpt == 'HOLISTIC RATE'">
                    <div class="mat-cell preview_table_bg_1">Rate Per Trip</div>
                    <div class="mat-cell preview_table_bg_2">{{custCommSafex?.addtnlPrice == null ? 'NA' : custCommSafex?.addtnlPrice}}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Next Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custCommSafex?.nextDayIncntv == null ? '0' : custCommSafex?.nextDayIncntv }}</div>
                  </div>
                  <div class="mat-row border_none">
                    <div class="mat-cell preview_table_bg_1">Third Day On Time Delivery Incentive</div>
                    <div class="mat-cell preview_table_bg_2">₹ {{custCommSafex?.thirdDayIncntv == null ? '0' : custCommSafex?.thirdDayIncntv}}</div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </ng-container>
        <!-- Customer Safextention Payout if  only Sefextention selected end -->

        <section class="preview_sec_3 preview_sec_4 preview_sec_5 width-800" >
          <h3   style="page-break-inside: avoid;"><strong>General Terms</strong></h3>
          <h3   style="page-break-inside: avoid;"><strong>Ex - Gratia</strong></h3>
          <div class="row pb_15"   style="page-break-inside: avoid;">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Ex - Gratia Applicable</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.generalTerms?.exgratiaFlag === 1 ? 'Yes' :
                    'No'}}</div>
                </div>
              </div>
            </div>
          </div>
          <!------ If Ex- Gratia type = 'FIXED' start -------->
          <div class="row"   style="page-break-inside: avoid;"
            *ngIf="(previewList?.generalTerms?.exgratiaFlag == 1 && graciaList.length > 0) && previewList?.generalTerms?.exgratiaType == 'FIXED'">
            <div class="col-md-12">
              <div class="mat-table prvw_tbl  preview_table_2">
                <div class="mat-row border_none">
                  <div class="mat-cell pab_table_head width-200">Branch</div>
                  <div class="mat-cell pab_table_head width-200">Ex - Gratia Amount</div>
                  <div class="mat-cell pab_table_head width-200">Reason</div>
                  <div class="mat-cell pab_table_head width-100">Start Date</div>
                  <div class="mat-cell pab_table_head width-100">End Date</div>
                </div>
                <div class="mat-row border_none" *ngFor="let gratia of graciaList; let i = index">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{gratia.branchName == null ? 'NA' : gratia.branchName}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">₹ {{gratia.amt == null ? '0' : gratia.amt}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">{{gratia.reason == null ? 'NA' : gratia.reason }}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{gratia.efftvDate == null ? 'NA' : gratia.efftvDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{gratia.exprDate == null ? 'NA' : gratia.exprDate | date: 'dd/MM/yyyy'}}</div>
                </div>
              </div>
            </div>
          </div>
          <!------ If Ex- Gratia type = 'FIXED' end -------->

          <!------ If Ex- Gratia type = 'CLAUSE' start -------->
          <section
            *ngIf="(previewList?.generalTerms?.exgratiaFlag == 1 && graciaList.length > 0) && previewList?.generalTerms?.exgratiaType == 'CLAUSE'">
            <div *ngFor="let gratia of graciaList; let i = index">
              <div class="row pb_15"   style="page-break-inside: avoid;">
                <div class="col-md-12">
                  <h4><strong> For {{gratia?.branchName == null ? 'NA' : gratia?.branchName}} </strong></h4>
                </div>
                <div class="col-md-5">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1"><strong>Start Date</strong></div>
                      <div class="mat-cell preview_table_bg_2">{{gratia?.efftvDate == null ? 'NA' : gratia?.efftvDate | date: 'dd/MM/yyyy'}}</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-md-offset-2">
                  <div class="mat-table prvw_tbl  preview_table_1">
                    <div class="mat-row border_none">
                      <div class="mat-cell preview_table_bg_1">End Date</div>
                      <div class="mat-cell preview_table_bg_2">{{gratia?.exprDate == null ? 'NA' : gratia?.exprDate | date: 'dd/MM/yyyy'}}</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row pb_15" *ngIf="gratia?.dlvryExGratiaList.length > 0"   style="page-break-inside: avoid;">
                <div class="col-md-12">
                  <div class="mat-table prvw_tbl  preview_table_2">
                    <div class="mat-row border_none">
                      <div class="mat-cell pab_table_head width-200">Slab Definition(In KG)</div>
                      <div class="mat-cell pab_table_head width-200">Ex-Gratia Amount</div>
                      <div class="mat-cell pab_table_head width-200">Reason</div>
                    </div>
                    <div class="mat-row border_none" *ngFor="let slab of gratia?.dlvryExGratiaList; let j = index">
                      <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{slab?.wtSlabFrom == null ? '' : slab?.wtSlabFrom}} - {{slab?.wtSlabTo == null ? '' : slab?.wtSlabTo}}
                      </div>
                      <div class="mat-cell pab_table_dis1 width-200">{{slab?.price == null ? 'NA' : slab?.price}}</div>
                      <div class="mat-cell pab_table_dis1 width-200">{{slab?.descr == null ? 'NA' : slab?.descr}}</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <!------ If Ex- Gratia type = 'CLAUSE' end -------->
          <h3   style="page-break-inside: avoid;"><strong>Minimum Guarantee</strong></h3>
          <div class="row pb_15"   style="page-break-inside: avoid;">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>MG Applicable</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.generalTerms?.mgFlag === 1 ? 'Yes' : 'No'}}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="(previewList?.generalTerms?.mgFlag == 1 && mgList.length > 0)">
            <div class="col-md-12">
              <div class="mat-table prvw_tbl  preview_table_2">
                <div class="mat-row border_none"  style="page-break-inside: avoid;">
                  <div class="mat-cell pab_table_head width-150">Branch</div>
                  <div class="mat-cell pab_table_head width-100">MG Amount</div>
                  <div class="mat-cell pab_table_head width-150">Reason</div>
                  <div class="mat-cell pab_table_head width-100">Start Date</div>
                  <div class="mat-cell pab_table_head width-200">End Date</div>
                  <div class="mat-cell pab_table_head width-100">MG Cycle</div>
                  <div class="mat-cell pab_table_head width-100">Month</div>
                </div>
                <div class="mat-row border_none" *ngFor="let gratia of mgList; let i = index"  style="page-break-inside: avoid;">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2 width-150">{{gratia.branchName == null ? 'NA' : gratia.branchName}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">₹ {{gratia.amt == null ? '0' : gratia.amt}}</div>
                  <div class="mat-cell pab_table_dis1 width-150">{{gratia.reason == null ? 'NA' : gratia.reason}}</div>
                  <div class="mat-cell pab_table_dis1 width-150">{{gratia.efftvDate == null ? 'NA' : gratia.efftvDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{gratia.exprDate == null ? 'NA' : gratia.exprDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{gratia.amtCycle == null ? 'NA' : gratia.amtCycle}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{gratia.mnth == null ? 'NA' : gratia.mnth}}</div>
                </div>
              </div>
            </div>
          </div>
          <div class="row payment_base_t"  style="page-break-inside: avoid;">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Promotion Applicable</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.generalTerms?.promoFlag === 1 ? 'Yes' : 'No'}}
                  </div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Remarks</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.generalTerms?.addtnlExpnsRemark  ? previewList?.generalTerms?.addtnlExpnsRemark : ' NA' }}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Additional Expense</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.generalTerms?.addtnlExpnsFlag === 1 ? 'Yes' :
                    'No'}}</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="preview_sec_3 preview_sec_4 width-800"   style="page-break-inside: avoid;">
          <h3><strong>Deductions</strong></h3>
          <div class="row payment_base_t">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>SNSD Penalty</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.snsdPnltyFlag === 1 ? 'Yes'
                    : 'No'}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Vehicle Absent Penalty</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.vehicleAbsentPnltyFlag ===
                    1 ? 'Yes' : 'No'}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Deduction Against Lost</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.dedctnLostFlag === 1 ?
                    'Yes' : 'No'}}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Safextension Late Delivery Penalty</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.safextLateDlvryPnltyFlag
                    === 1 ? 'Yes' : 'No'}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>Deduction Against Market Vehicle</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.mktVehicleDedctnFlag === 1
                    ? 'Yes' : 'No'}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1"><strong>To Pay Outstanding Recovery</strong></div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.toPayRecoveryFlag === 1 ?
                    'Yes' : 'No'}}</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="preview_sec_3 preview_sec_4 preview_sec_5 width-800" *ngIf="emiList.length > 0">
          <h3><strong>EMI Deduction Calculation</strong></h3>
          <div class="row" *ngIf="emiList.length > 0">
            <div class="col-md-12">
              <div class="mat-table prvw_tbl  preview_table_2"   style="page-break-inside: avoid;">
                <div class="mat-row border_none">
                  <div class="mat-cell pab_table_head  width-200">Vehicle No.</div>
                  <div class="mat-cell pab_table_head width-200">Emi Amount</div>
                  <div class="mat-cell pab_table_head width-100">Start Date</div>
                  <div class="mat-cell pab_table_head width-100">End Date</div>
                  <div class="mat-cell pab_table_head width-200">Branch ID</div>
                </div>
                <div class="mat-row border_none" *ngFor="let vehicle of emiList; let i = index"   style="page-break-inside: avoid;">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{vehicle.vehicleName == null ? 'NA' : vehicle.vehicleName}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">₹ {{vehicle.amt == null ? '0' : vehicle.amt}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{vehicle.efftvDate == null ? 'NA' : vehicle.efftvDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{vehicle.exprDate == null ? 'NA' : vehicle.exprDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">{{vehicle.branchName == null ? 'NA' : vehicle.branchName}}</div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="preview_sec_3 preview_sec_4 preview_sec_5 width-800" *ngIf="insuranceList.length > 0" >
          <h3><strong>Insurance Deduction Calculation</strong></h3>
          <div class="row" *ngIf="insuranceList.length > 0">
            <div class="col-md-12">
              <div class="mat-table prvw_tbl  preview_table_2"   style="page-break-inside: avoid;">
                <div class="mat-row border_none">
                  <div class="mat-cell pab_table_head width-200">Vehicle No.</div>
                  <div class="mat-cell pab_table_head width-200">Amount</div>
                  <div class="mat-cell pab_table_head width-100">Start Date</div>
                  <div class="mat-cell pab_table_head width-100">End Date</div>
                  <div class="mat-cell pab_table_head width-200">Branch ID</div>
                </div>
                <div class="mat-row border_none" *ngFor="let vehicle of insuranceList; let i = index"   style="page-break-inside: avoid;">
                  <div class="mat-cell pab_table_dis1 pab_table_dis2 width-200">{{vehicle.vehicleName == null ? 'NA' : vehicle.vehicleName}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">₹ {{vehicle.amt == null ? '0' : vehicle.amt}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{vehicle.efftvDate == null ? 'NA' : vehicle.efftvDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-100">{{vehicle.exprDate == null ? 'NA' : vehicle.exprDate | date: 'dd/MM/yyyy'}}</div>
                  <div class="mat-cell pab_table_dis1 width-200">{{vehicle.branchName == null ? 'NA' : vehicle.branchName}}</div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="preview_sec_3 preview_sec_4 preview_sec_5 width-800"  style="page-break-inside: avoid;">
          <h3><strong>Advance Amount Applicable</strong></h3>
          <div class="row">
            <div class="col-md-5">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Advance Amount Applicable</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.advncDedctnAmtFlag ===1 ?
                    'YES' : 'NO'}}</div>
                </div>
                <div class="mat-row border_none" *ngIf="previewList?.deliveryDeduction?.advncDedctnAmtFlag==1">
                  <div class="mat-cell preview_table_bg_1">Start Date</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.advncDedctnAmtFromDt == null ? 'NA' : previewList?.deliveryDeduction?.advncDedctnAmtFromDt |
                    date: 'dd/MM/yyyy'}}</div>
                </div>
              </div>
            </div>
            <div class="col-md-5 col-md-offset-2" *ngIf="previewList?.deliveryDeduction?.advncDedctnAmtFlag==1">
              <div class="mat-table prvw_tbl  preview_table_1">
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">Advance Amount to be Deducted</div>
                  <div class="mat-cell preview_table_bg_2">₹ {{previewList?.deliveryDeduction?.advncDedctnAmt == null ? '0' : previewList?.deliveryDeduction?.advncDedctnAmt}}</div>
                </div>
                <div class="mat-row border_none">
                  <div class="mat-cell preview_table_bg_1">end Date</div>
                  <div class="mat-cell preview_table_bg_2">{{previewList?.deliveryDeduction?.advncDedctnAmtToDt == null ? 'NA' : previewList?.deliveryDeduction?.advncDedctnAmtToDt | date:
                    'dd/MM/yyyy'}}</div>
                </div>
              </div>
            </div>
          </div>
          <hr class="billingHr">
        </section>
       </div>
      </div>
      <section class="mgsg_print_sec">
        <div class="row" style="position: relative;">
          <div class="col-md-3">
            <div class="row">
              <div class="col-md-6">
                <p (click)="sendEmail()"><img src="../assets/images/envelope.png" alt="image"> <strong>Email</strong></p>
              </div>
              <div class="col-md-6">
                <button
                style="cursor: pointer !important;width: 12rem;font-size: 2.8rem; border: none; background: transparent;left:0; top: 0.7rem; display: flex;"
                [useExistingCss]="true" printTitle="{{previewList?.companyName}}" printSectionId="previewContent"
                ngxPrint> <img alt="img" src="../assets/images/printer.png">
                <p style="font-weight: bold;">Print</p>
              </button>
              </div>
            </div>
          </div>
          <div class="col-md-1 col-md-offset-7" *ngIf="!editflow">
            <button mat-button class="theme-button"
              *ngxPermissionsOnly="['VIEW CONTRACT_CREATE','VIEW CONTRACT_UPDATE']"
              (click)="sendContractId($event)">Submit</button>
          </div>
          <div class="col-md-3 col-md-offset-6" *ngIf="editflow">
            <button mat-button class="theme-button pull-right"
              *ngxPermissionsOnly="['VIEW CONTRACT_CREATE','VIEW CONTRACT_UPDATE']" (click)="openEditPreview()">Verify
              Updated Changes</button>
          </div>
          <div class="backButton" (click)="closePreview($event)">
            <span>
              <mat-icon>close</mat-icon>
            </span>
          </div>
        </div>
      </section>
    </div>
  </div>

</section>
<ngx-spinner id="spinner" size="large" type="ball-spin-clockwise">
</ngx-spinner>



<!-- only for prit use -->
<!-- for print only naresh -->
<div class="previewHeading" style=" display: none;" id="printing">
  <h2>Booking Associate Contract</h2>
  <!-- customer details -->
  <table aria-describedby="table" class="table_" id="Delivery Associate Contract">
    <tbody>
      <tr>
        <th scope="col" style="width:400px">-</th>
        <th scope="col" style="width:400px">--</th>
      </tr>
      <tr>
        <td style="width:400px">Organisation Name: {{previewList?.companyName == null ? 'NA' : previewList?.companyName}}</td>
        <td style="width:400px">Associate Category: {{previewList?.asscoCtrgy == null ? 'NA' : previewList?.asscoCtrgy}}
        </td>
      </tr>
      <tr>
        <td style="width:400px"> Contract Code: {{previewList?.cntrCode == null ? 'NA' : previewList?.cntrCode}}</td>
        <td style="width:400px"> W.E.F:
          {{previewList?.wefDate == null ? 'NA' : previewList?.wefDate | date: 'dd/MM/yyyy'}} </td>
      </tr>
    </tbody>
  </table>
  <!-- end customer details -->
  <!-- Contract Details -->
  <table aria-describedby="table" class="table_ fourCol" id="Contract Details">
    <tbody>
      <tr>
        <th scope="col" style="width:400px">-</th>
        <th scope="col" style="width:400px">--</th>
        <th scope="col" style="width:400px">---</th>
        <th scope="col" style="width:400px">----</th>
      </tr>
      <tr>
        <td>Sub Delivery</td>
        <td>
          {{previewList?.contractDetals?.subDeliveryName == null ? 'NA' : previewList?.contractDetals?.subDeliveryName}}
        </td>
        <td>Start Date</td>
        <td>
          {{previewList?.contractDetals?.effectiveDt == null ? 'NA' : previewList?.contractDetals?.effectiveDt | date:'dd/MM/yyyy'}}
        </td>
      </tr>
      <tr>
        <td>End Date</td>
        <td>
          {{previewList?.contractDetals?.expDt == null ? 'NA' : previewList?.contractDetals?.expDt | date: 'dd/MM/yyyy'}}
        </td>
        <td>Billing Cycle</td>
        <td>{{previewList?.contractDetals?.lkpPymtFreqId == null ? 'NA' : previewList?.contractDetals?.lkpPymtFreqId | lookupValue :
            "descr" : previewRefList?.billingCycleList}}</td>
      </tr>
      <tr>
        <td>Delivery Weight Slab</td>
        <td>
          {{previewList?.contractDetals?.weightSlabFrom == null ? 'NA' : previewList?.contractDetals?.weightSlabFrom }}
          TO {{previewList?.contractDetals?.weightSlabTo == null ? 'NA' : previewList?.contractDetals?.weightSlabTo}}
        </td>
        <td>Service Offering</td>
        <td>
          {{previewList?.contractDetals?.serviceOffrNames == null ? 'NA' : previewList?.contractDetals?.serviceOffrNames}}
        </td>
      </tr>
      <tr>
        <td>Delivery Type</td>
        <td> {{previewList?.contractDetals?.scheduledDeliveryFlag == 1 ? 'SCHEDULED' : ''}} <span
            *ngIf="previewList?.contractDetals?.scheduledDeliveryFlag == 1 && previewList?.contractDetals?.safextDeliveryFlag == 1">,</span>
          {{previewList?.contractDetals?.safextDeliveryFlag == 1 ? 'SAFEXTENTION' : ''}} </td>
        <td>Status</td>
        <td>{{previewList?.contractDetals?.statusName == "EDIT" ?
            "ACTIVE" : previewList?.contractDetals?.statusName}}</td>
      </tr>
    </tbody>
  </table>
  <!-- end Contract Details -->
  <!-- Branch -->
  <table aria-describedby="table" class="table_ fiveCol" data-heading="show" id="Allocation">
    <tbody>
      <tr>
        <th scope="col">Branch Name </th>
        <th scope="col">Branch Type </th>
        <th scope="col">Effective Date </th>
        <th scope="col">Expiry Date </th>
        <th scope="col">Vehicle Assigned </th>
      </tr>
      <tr *ngFor="let branch of previewList?.branchAllocationList; let i = index">
        <td> {{branch.branchName == null ? 'NA' : branch.branchName}} </td>
        <td> {{branch.branchType == null ? 'NA' : branch.branchType}} </td>
        <td> {{branch.efftvDate == null ? 'NA' : branch.efftvDate | date: 'dd/MM/yyyy'}} </td>
        <td> {{branch.exprDate == null ? 'NA' : branch.exprDate | date: 'dd/MM/yyyy'}} </td>
        <td> {{branch.assignedVehicle == null ? 'NA' : branch.assignedVehicle}} </td>
      </tr>
    </tbody>
  </table>
  <!-- end branch  -->
  <!-- Payment Terms -->

  <!--  Schedule Payout if not PCD selected start -->
      <table aria-describedby="table h5" class="table_ fourCol" id="Payment Terms">
        <tbody>
            <tr>
               <th scope="col">- </th>
            </tr>
          </tbody>
        </table>
        <table aria-describedby="table h5" class="table_ fourCol h5" id="Scheduled Payout"
         *ngIf="previewList?.scheduled_Payout !== undefined && !isPCD">
          <tbody>
            <tr>
              <th scope="col">- </th>
            </tr>
          </tbody>
                 </table>
         <table aria-describedby="table h5" class="table_  general"
           *ngIf="previewList?.scheduled_Payout != undefined && previewList?.scheduled_Payout.dlvryPayoutCtgy && !isPCD">
           <tbody>
             <tr>
               <th scope="col">- </th>
             </tr>
             <tr>
               <td >general</td>
             </tr>
           </tbody>
         </table>











  <div *ngIf="previewList?.scheduled_Payout !== undefined && !isPCD">
    <table aria-describedby="table h5" class="table_ fourCol" >
      <tbody>
        <tr>
          <th scope="col">- </th>
          <th scope="col">-- </th>
          <th scope="col">- </th>
          <th scope="col">-- </th>
        </tr>
        <tr>
          <td> Payout Scenario</td>
          <td>{{getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)}}</td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              Weight Basis </div>
          </td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              {{previewList?.scheduled_Payout?.wtBasis == null ? 'NA' : previewList?.scheduled_Payout?.wtBasis}} </div>
          </td>
        </tr>
        <tr>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              Product List </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              {{previewList?.scheduled_Payout?.productNames == null ? 'NA' : previewList?.scheduled_Payout?.productNames}}
            </div>
          </td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              Weight Type </div>
          </td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              {{previewList?.scheduled_Payout?.wtType == null ? 'NA' : previewList?.scheduled_Payout?.wtType}} </div>
          </td>
        </tr>
        <tr>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              Product List </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              {{previewList?.scheduled_Payout?.productNames == null ? 'NA' : previewList?.scheduled_Payout?.productNames}}
            </div>
          </td>
          <td>
          
          </td>
          <td>
       
          </td>
        </tr>
        <tr>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
              Rate Per Waybill </div>
          </td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
              {{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}} </div>
          </td>
          <td></td>
          <td></td>
        </tr>
        <tr *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
          <td> Product Category </td>
          <td>
            {{previewList?.scheduled_Payout?.prdctCtgyName == null ? 'NA' : previewList?.scheduled_Payout?.prdctCtgyName}}
          </td>
          <td>Rate Per Product</td>
          <td>{{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}}</td>
        </tr>
      </tbody>
    </table>
    <!-- If payout based on BOOKING start-->
    <table aria-describedby="table h5" class="table_ twoCol" data-heading="show" 
      *ngIf="getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
      <tbody>
        <tr>
          <th scope="col">WEIGHT </th>
          <th scope="col">RATE PER KG </th>
        </tr>
        <tr *ngFor="let data of previewList?.scheduled_Payout?.deliveryWtSlabChargeList; let i = index">
          <td>{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo  == null ? '' : data?.wtSlabTo}}
          </td>
          <td>Rs. {{data?.price == null ? 'NA' : data?.price}}</td>
        </tr>
      </tbody>
    </table>
    <table aria-describedby="table h5" class="table_ h5 fourCol">
      <tbody>
        <tr>
          <th scope="col">- </th>
          <th scope="col">-- </th>
          <th scope="col">-- -</th>
          <th scope="col">-- --</th>
        </tr>
        <tr>
          <td> Additional Amount Applicable</td>
          <td>{{previewList?.scheduled_Payout?.addtnlAmtFlag == 1 ? 'YES': 'NO'}}</td>
          <td>
            <div
              *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
              Trip Based On </div>
          </td>
          <td>
            <div
              *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
              {{previewList?.scheduled_Payout?.tripOpt == null ? 'NA' : previewList?.scheduled_Payout?.tripOpt}} </div>
          </td>
        </tr>
        <tr
          *ngIf="previewList?.scheduled_Payout?.addtnlPymtType != 'PER TRIP' &&  previewList?.scheduled_Payout?.addtnlAmtFlag == 1">
          <td><span *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After
              VehicleInduction</span>
            <span *ngIf="previewList?.scheduled_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span></td>
          <td>{{previewList?.scheduled_Payout?.price == null ? 'NA' : previewList?.scheduled_Payout?.price}}</td>
          <td>Same Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.scheduled_Payout?.sameDayIncntv == null ? '0' : previewList?.scheduled_Payout?.sameDayIncntv}}
          </td>
        </tr>
        <tr>
          <td>Second Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.scheduled_Payout?.secondDayIncntv == null ? '0' : previewList?.scheduled_Payout?.secondDayIncntv}}
          </td>
          <td>
            <div *ngIf="previewList?.scheduled_Payout?.addtnlAmtFlag == 1"> Payment Basics</div>
          </td>
          <td>
            <div *ngIf="previewList?.scheduled_Payout?.addtnlAmtFlag == 1">
              {{previewList?.scheduled_Payout?.addtnlPymtType == null ? 'NA' : previewList?.scheduled_Payout?.addtnlPymtType}}
            </div>
          </td>
        </tr>
        <tr>
          <td>Next Day On Time Delivery Incentive </td>
          <td>Rs.
            {{previewList?.scheduled_Payout?.nextDayIncntv == null ? '0' : previewList?.scheduled_Payout?.nextDayIncntv }}
          </td>
          <td>Third Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.scheduled_Payout?.thirdDayIncntv == null ? '0' : previewList?.scheduled_Payout?.thirdDayIncntv}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!--  Schedule Payout if not PCD selected end -->




  <!--  Safextention Payout if not PCD selected start -->
  <div *ngIf="previewList?.safextension_Payout !== undefined && !isPCD">



  <table aria-describedby="table h5" class="table_ general  h5" 
    *ngIf="previewList?.scheduled_Payout == undefined && previewList?.safextension_Payout != undefined &&
    previewList?.safextension_Payout.dlvryPayoutCtgy && !isPCD">
    <tbody>
      <tr>
        <th scope="col">- </th>
      </tr>
      <tr>
        <td>GENERAL</td>
      </tr>
    </tbody>
  </table>





    <table aria-describedby="table h5" class="table_ fourCol h5" id="Safextension Payout">
      <tbody>
        <tr>
          <th scope="col">- </th>
          <th scope="col">-- </th>
          <th scope="col">- </th>
          <th scope="col">-- </th>
        </tr>
        <tr>
          <td> Payout Scenario -- 5</td>
          <td>{{getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)}}</td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
              Rate Per KG </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
              {{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              Product List </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              {{previewList?.safextension_Payout?.productNames == null  ? 'NA' : previewList?.safextension_Payout?.productNames}}
            </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              Weight Type </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              {{previewList?.safextension_Payout?.wtType == null ? 'NA' : previewList?.safextension_Payout?.wtType}}
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              Min. Amount Per Waybill</div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
              {{previewList?.safextension_Payout?.minAmtWaybill == null  ? 'NA' : previewList?.safextension_Payout?.minAmtWaybill}}
            </div>
          </td>
          <td>
            <div *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
              Rate Per Waybill </div>
          </td>
          <td>
            <div
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PER  WAYBILL'">
              {{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}
            </div>
          </td>
        </tr>
        <tr *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
          <td> Product Category</td>
          <td>
            {{previewList?.safextension_Payout?.prdctCtgyName == null  ? 'NA' : previewList?.safextension_Payout?.prdctCtgyName}}
          </td>
          <td>Rate Per Product</td>
          <td>{{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}</td>
        </tr>
        <tr *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
          <td>Product Category</td>
          <td>
            {{previewList?.safextension_Payout?.prdctCtgyName == null  ? 'NA' : previewList?.safextension_Payout?.prdctCtgyName}}
          </td>
          <td>Rate Per Product</td>
          <td>{{previewList?.safextension_Payout?.price == null  ? 'NA' : previewList?.safextension_Payout?.price}}</td>
        </tr>
      </tbody>
    </table>
    <!-- If payout based on WEIGHT BASIS start-->
    <table aria-describedby="table h5" class="table_ twoCol" data-heading="show"
      *ngIf="getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
      <tbody>
        <tr>
          <th scope="col">WEIGHT </th>
          <th scope="col">RATE PER KG </th>
        </tr>
        <tr *ngFor="let data of previewList?.safextension_Payout?.deliveryWtSlabChargeList; let i = index">
          <td>{{data?.wtSlabFrom == null  ? '' : data?.wtSlabFrom}} - {{data?.wtSlabTo == null  ? '' : data?.wtSlabTo}}
          </td>
          <td>Rs. {{data?.price == null  ? '0' : data?.price}}</td>
        </tr>
      </tbody>
    </table>
    <table aria-describedby="table h5" class="table_ h5 fourCol">
      <tbody>
        <tr>
          <th scope="col">- </th>
          <th scope="col">-- </th>
          <th scope="col">-- -</th>
          <th scope="col">-- --</th>
        </tr>
        <tr>
          <td> Additional Amount Applicable</td>
          <td>{{previewList?.safextension_Payout?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</td>
          <td>
            <div
              *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
              Trip Based On </div>
          </td>
          <td>
            <div *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER TRIP' ||
                    getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
              {{previewList?.safextension_Payout?.tripOpt == null ? 'NA' : previewList?.safextension_Payout?.tripOpt}}
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div
              *ngIf="previewList?.safextension_Payout?.addtnlPymtType != 'PER TRIP' && previewList?.safextension_Payout?.addtnlAmtFlag == 1">
              <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle
                Induction</span>
              <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span>
            </div>
          </td>
          <td>{{previewList?.safextension_Payout?.price == null ? 'NA' : previewList?.safextension_Payout?.price}} </td>
          <td>Same Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.safextension_Payout?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.sameDayIncntv}}
          </td>
        </tr>
        <tr>
          <td>Second Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.safextension_Payout?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.sameDayIncntv}}
          </td>
          <td>
            <div *ngIf="previewList?.safextension_Payout?.addtnlAmtFlag == 1"> Payment Basics</div>
          </td>
          <td>
            <div *ngIf="previewList?.safextension_Payout?.addtnlAmtFlag == 1">
              {{previewList?.safextension_Payout?.addtnlPymtType == null ? 'NA' : previewList?.safextension_Payout?.addtnlPymtType}}
            </div>
          </td>
        </tr>
        <tr *ngIf="(previewList?.safextension_Payout?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
              && previewList?.safextension_Payout?.tripOpt == 'HOLISTIC RATE'">
          <td> Rate Per Trip</td>
          <td>
            {{previewList?.safextension_Payout?.addtnlPrice == null ? 'NA' : previewList?.safextension_Payout?.addtnlPrice}}
          </td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>Next Day On Time Delivery Incentive </td>
          <td>Rs.
            {{previewList?.safextension_Payout?.nextDayIncntv == null ? '0' : previewList?.safextension_Payout?.nextDayIncntv }}
          </td>
          <td>Third Day On Time Delivery Incentive</td>
          <td>Rs.
            {{previewList?.safextension_Payout?.thirdDayIncntv == null ? '0' : previewList?.safextension_Payout?.thirdDayIncntv}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!--  Safextention Payout if not PCD selected end -->
  <ng-container *ngIf="previewList?.scheduled_Payout != undefined">
    <section *ngFor="let custComm of previewList?.scheduled_Payout?.customerCommercial; let m=index ">
      <table aria-describedby="table h5 " class="table_ customersTable">
        <tbody>
          <tr>
            <th scope="col">-</th>
          </tr>
          <tr>
            <td>Customer: {{custComm?.attr == null ? 'NA' : custComm?.attr}}</td>
          </tr>
          <tr>
            <td>SFX/ PRC Code:{{custComm?.cntrCode == null ? 'NA' : custComm?.cntrCode}} </td>
          </tr>
        </tbody>
      </table>
      <table aria-describedby="table h5" class="table_ fourCol h5 naresh" id="Scheduled Payout">
        <tbody>
          <tr>
            <th scope="col">- </th>
            <th scope="col">-- </th>
            <th scope="col">- </th>
            <th scope="col">-- </th>
          </tr>
          <tr>
            <td> Payout Scenario</td>
            <td>{{getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)}}</td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'"> Weight Basis </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                {{custComm?.wtBasis == null ? 'NA' : custComm?.wtBasis}} </div>
            </td>
          </tr>
          <tr>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'"> Product List
              </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                {{custComm?.productNames == null ? 'NA' : custComm?.productNames}} </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'"> Weight Type </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
                {{custComm?.wtType == null ? 'NA' : custComm?.wtType}} </div>
            </td>
          </tr>
          <tr>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'"> Rate Per Waybill
              </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                {{custComm?.price == null ? 'NA' : custComm?.price}} </div>
            </td>
            <td></td>
            <td></td>
          </tr>
          <tr *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
            <td> Product Category</td>
            <td> {{custComm?.prdctCtgyName == null ? 'NA' : custComm?.prdctCtgyName}} </td>
            <td>Rate Per Product</td>
            <td> {{custComm?.price == null ? 'NA' : custComm?.price}} </td>
          </tr>
        </tbody>
      </table>
      <!-- If payout based on BOOKING start-->
      <table aria-describedby="table h5" class="table_ twoCol" data-heading="show"
        *ngIf="getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId)== 'WEIGHT BASIS'">
        <tbody>
          <tr>
            <th scope="col">WEIGHT </th>
            <th scope="col">RATE PER KG </th>
          </tr>
          <tr *ngFor="let data of custComm?.deliveryWtSlabChargeList; let i = index">
            <td>{{data?.wtSlabFrom == null  ? '' : data?.wtSlabFrom}} -
              {{data?.wtSlabTo == null  ? '' : data?.wtSlabTo}}</td>
            <td>Rs. {{data?.price == null  ? '0' : data?.price}}</td>
          </tr>
        </tbody>
      </table>
      <table aria-describedby="table h5" class="table_ h5 fourCol filterTdOne">
        <tbody>
          <tr>
            <th scope="col">- </th>
            <th scope="col">-- </th>
            <th scope="col">-- -</th>
            <th scope="col">-- --</th>
          </tr>
          <tr>
            <td> Additional Amount Applicable </td>
            <td>{{custComm?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</td>
            <td>
              <div *ngIf="custComm?.addtnlPymtType == 'PER TRIP' ||
                    getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'"> Trip
                Based On </div>
            </td>
            <td>
              <div *ngIf="custComm?.addtnlPymtType == 'PER TRIP' ||
                     getPaymentScenario(previewList?.scheduled_Payout?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                {{previewList?.scheduled_Payout?.tripOpt == null ? 'NA' : previewList?.scheduled_Payout?.tripOpt}}
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div *ngIf="custComm?.addtnlPymtType != 'PER TRIP' && custComm?.addtnlAmtFlag == 1">
                <span *ngIf="custComm?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle Induction</span>
                <span *ngIf="custComm?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span>
              </div>
            </td>
            <td>
              <div *ngIf="custComm?.addtnlPymtType != 'PER TRIP' && custComm?.addtnlAmtFlag == 1">
                {{custComm?.price == null ? 'NA' : custComm?.price}} </div>
            </td>
            <td>Same Day On Time Delivery Incentive</td>
            <td>Rs.{{custComm?.sameDayIncntv == null ? '0' : custComm?.sameDayIncntv}} </td>
          </tr>
          <tr>
            <td>Second Day On Time Delivery Incentive</td>
            <td>Rs.{{custComm?.secondDayIncntv == null ? '0' : custComm?.secondDayIncntv}} </td>
            <td>
              <div *ngIf="custComm?.addtnlAmtFlag == 1"> Payment Basics</div>
            </td>
            <td>
              <div *ngIf="custComm?.addtnlAmtFlag == 1">
                {{custComm?.addtnlPymtType == null ? 'NA' : custComm?.addtnlPymtType}} </div>
            </td>
          </tr>
          <tr *ngIf="(custComm?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custComm?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
              && custComm?.tripOpt == 'HOLISTIC RATE'">
            <td>Rate Per Trip </td>
            <td>{{custComm?.addtnlPrice == null ? 'NA' : custComm?.addtnlPrice}}</td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>Next Day On Time Delivery Incentive </td>
            <td>Rs. {{custComm?.nextDayIncntv == null ? '0' : custComm?.nextDayIncntv}} </td>
            <td>Third Day On Time Delivery Incentive</td>
            <td>Rs. {{custComm?.thirdDayIncntv == null ? '0' : custComm?.thirdDayIncntv}} </td>
          </tr>
        </tbody>
      </table>
      <!-- Customer Safextention Payout if  Schedule + Sefextention selected start -->
      <div *ngIf="previewList?.safextension_Payout !== undefined">
        <table aria-describedby="table h5" class="table_ fourCol h5" id="Safextension Payout">
          <tbody>
            <tr>
              <th scope="col">- </th>
              <th scope="col">-- </th>
              <th scope="col">- </th>
              <th scope="col">-- </th>
            </tr>
            <tr>
              <td> Payout Scenario 1</td>
              <td>
                {{getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)}}
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  Rate Per KG </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                  Product List </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.productNames == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.productNames}}
                </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  Weight Type </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.wtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.wtType}}
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  Min. Amount Per Waybill</div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill}}
                </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                  Rate Per Waybill </div>
              </td>
              <td>
                <div
                  *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
                </div>
              </td>
            </tr>
            <tr
              *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
              <td> Product Category</td>
              <td>
                {{previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName}}
              </td>
              <td>Rate Per Product</td>
              <td>
                {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
              </td>
            </tr>
          </tbody>
        </table>
        <!-- If payout based on WEIGHT BASIS start-->
        <table aria-describedby="table h5" class="table_ twoCol" data-heading="show" *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) ==
     'WEIGHT BASIS'">
          <tbody>
            <tr>
              <th scope="col">WEIGHT </th>
              <th scope="col">RATE PER KG </th>
            </tr>
            <tr
              *ngFor="let data of previewList?.safextension_Payout?.customerCommercial[m]?.deliveryWtSlabChargeList; let i = index">
              <td>{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} -
                {{data?.wtSlabTo == null ? '' : data?.wtSlabTo}} </td>
              <td>Rs. {{data?.price == null ? '0' : data?.price}}</td>
            </tr>
          </tbody>
        </table>
        <table aria-describedby="table h5" class="table_ h5 fourCol">
          <tbody>
            <tr>
              <th scope="col">- </th>
              <th scope="col">-- </th>
              <th scope="col">-- -</th>
              <th scope="col">-- --</th>
            </tr>
            <tr>
              <td> Additional Amount Applicable</td>
              <td>{{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</td>
              <td>
                <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' ||
             getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) ==
             'PER TRIP'"> Trip Based On </div>
              </td>
              <td>
                <div
                  *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType=='PER TRIP' ||
             getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)=='PER TRIP'">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt}}
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType != 'PER TRIP' &&
            previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1">
                  <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle
                    Induction</span>
                  <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per
                    Waybill</span>
                </div>
              </td>
              <td>
                {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
              </td>
              <td>Same Day On Time Delivery Incentive</td>
              <td>Rs.
                {{previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv}}
              </td>
            </tr>
            <tr>
              <td>Second Day On Time Delivery Incentive</td>
              <td>Rs.
                {{previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv}}
              </td>
              <td>
                <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag==1"> Payment Basics
                </div>
              </td>
              <td>
                <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag==1">
                  {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType}}
                </div>
              </td>
            </tr>
            <tr
              *ngIf="(previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'PER TRIP') && previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == 'HOLISTIC RATE'">
              <td> Rate Per Trip</td>
              <td>
                {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice}}
              </td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Next Day On Time Delivery Incentive </td>
              <td>Rs.
                {{previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv}}
              </td>
              <td>Third Day On Time Delivery Incentive</td>
              <td>Rs.
                {{previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Customer Safextention Payout  Schedule + Sefextention selected end -->
    </section>
  </ng-container>
  <!-- done 123 -->
  <!--  Customer Safextention Payout if  only Sefextention selected start -->
  <ng-container *ngIf="previewList?.scheduled_Payout == undefined">
    <section *ngFor="let custCommSafex of previewList?.safextension_Payout?.customerCommercial">
      <table aria-describedby="table h5 " class="table_ customersTable" id="Payment Terms">
        <tbody>
          <tr>
            <th scope="col">-</th>
          </tr>
          <tr>
            <td>Customer: {{custCommSafex?.attr1 == null ? 'NA' : custCommSafex?.attr1}}</td>
          </tr>
          <tr>
            <td>SFX/ PRC Code: {{custCommSafex?.cntrCode == null ? 'NA' : custCommSafex?.cntrCode}}</td>
          </tr>
        </tbody>
      </table>
      <table aria-describedby="table h5" class="table_ fourCol 1 h5 naresh" id="Safextension Payout">
        <tbody>
          <tr>
            <th scope="col">- </th>
            <th scope="col">-- </th>
            <th scope="col">- </th>
            <th scope="col">-- </th>
          </tr>
          <tr>
            <td> Payout Scenario</td>
            <td> {{getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)}}</td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'"> Rate Per KG
              </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                {{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}} </div>
            </td>
          </tr>
          <tr>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'"> Product
                List </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                {{custCommSafex?.productNames == null ? 'NA' : custCommSafex?.productNames}} </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'"> Weight Type
              </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                {{custCommSafex?.wtType == null ? 'NA' : custCommSafex?.wtType}} </div>
            </td>
          </tr>
          <tr>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'"> Min. Amount
                Per Waybill </div>
            </td>
            <td>
              <div *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                {{custCommSafex?.minAmtWaybill == null ? 'NA' : custCommSafex?.minAmtWaybill}}</div>
            </td>
            <td></td>
            <td></td>
          </tr>
          <tr *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
            <td> Product Category</td>
            <td> {{custCommSafex?.prdctCtgyName == null ? 'NA' : custCommSafex?.prdctCtgyName }} </td>
            <td>Rate Per Product</td>
            <td> {{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}} </td>
          </tr>
        </tbody>
      </table>
      <!-- If payout based on BOOKING start-->
      <table aria-describedby="table h5" class="table_ twoCol" data-heading="show"
        *ngIf="getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
        <tbody>
          <tr>
            <th scope="col">WEIGHT </th>
            <th scope="col">RATE PER KG </th>
          </tr>
          <tr *ngFor="let data of custCommSafex?.deliveryWtSlabChargeList; let i = index">
            <td>{{data?.wtSlabFrom == null ? 'NA' : data?.wtSlabFrom}} -
              {{data?.wtSlabTo == null ? 'NA' : data?.wtSlabTo}}</td>
            <td>Rs. {{data?.price == null ? '0' : data?.price}}</td>
          </tr>
        </tbody>
      </table>
      <table aria-describedby="table h5" class="table_ h5 fourCol 2">
        <tbody>
          <tr>
            <th scope="col">- </th>
            <th scope="col">-- </th>
            <th scope="col">-- -</th>
            <th scope="col">-- --</th>
          </tr>
          <tr>
            <td> Additional Amount Applicable</td>
            <td>{{custCommSafex?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</td>
            <td>
              <div
                *ngIf="custCommSafex?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                Trip Based On </div>
            </td>
            <td>
              <div
                *ngIf="custCommSafex?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'PER TRIP'">
                {{custCommSafex?.tripOpt == null ? 'NA' : custCommSafex?.tripOpt}} </div>
            </td>
          </tr>
          <tr *ngIf="custCommSafex?.addtnlPymtType != 'PER TRIP' && 
          custCommSafex?.addtnlAmtFlag == 1">
            <td>
              <span *ngIf="custCommSafex?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle Induction</span>
              <span *ngIf="custCommSafex?.addtnlPymtType == 'PER WAYBILL'">Rate Per Waybill</span>
            </td>
            <td>{{custCommSafex?.price == null ? 'NA' : custCommSafex?.price}}</td>
            <td>Same Day On Time Delivery Incentive</td>
            <td>Rs. {{custCommSafex?.sameDayIncntv == null ? '0' : custCommSafex?.sameDayIncntv}} </td>
          </tr>
          <tr>
            <td>Second Day On Time Delivery Incentive</td>
            <td>Rs. {{custCommSafex?.secondDayIncntv == null ? '0' : custCommSafex?.secondDayIncntv}} </td>
            <td>
              <div *ngIf="custCommSafex?.addtnlAmtFlag == 1"> Payment Basics</div>
            </td>
            <td>
              <div *ngIf="custCommSafex?.addtnlAmtFlag == 1">
                {{custCommSafex?.addtnlPymtType == null ? 'NA' : custCommSafex?.addtnlPymtType}} </div>
            </td>
          </tr>
          <tr *ngIf="(custCommSafex?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(custCommSafex?.lkpAssocDlvryPayoutOptId) == 'PER TRIP')
          && custCommSafex?.tripOpt == 'HOLISTIC RATE'">
            <td>Rate Per Trip </td>
            <td>{{custCommSafex?.addtnlPrice == null ? 'NA' : custCommSafex?.addtnlPrice}}</td>
            <td>Next Day On Time Delivery Incentive </td>
            <td>Rs. {{custCommSafex?.nextDayIncntv == null ? '0' : custCommSafex?.nextDayIncntv }} </td>
            <td>Third Day On Time Delivery Incentive</td>
            <td>Rs. {{custComm?.thirdDayIncntv == null ? '0' : custComm?.thirdDayIncntv}} </td>
          </tr>
          <tr>
          </tr>
        </tbody>
      </table>

       <!-- Customer Safextention Payout if  Schedule + Sefextention selected start -->
       <div *ngIf="previewList?.safextension_Payout !== undefined">
         <table aria-describedby="table h5" class="table_ fourCol h5" id="Safextension Payout">
           <tbody>
             <tr>
               <th scope="col">- </th>
               <th scope="col">-- </th>
               <th scope="col">- </th>
               <th scope="col">-- </th>
             </tr>
             <tr>
               <td> Payout Scenario </td>
               <td> nareh
                 {{getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)}}
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   Rate Per KG </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
                 </div>
               </td>
             </tr>
             <tr>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                   Product List </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.productNames == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.productNames}}
                 </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   Weight Type </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.wtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.wtType}}
                 </div>
               </td>
             </tr>
             <tr>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   Min. Amount Per Waybill</div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'WEIGHT BASIS'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.minAmtWaybill}}
                 </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                   Rate Per Waybill </div>
               </td>
               <td>
                 <div
                   *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PER WAYBILL'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
                 </div>
               </td>
             </tr>
             <tr
               *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)== 'PRODUCT SPECIFIC'">
               <td> Product Category</td>
               <td>
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.prdctCtgyName}}
               </td>
               <td>Rate Per Product</td>
               <td>
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
               </td>
             </tr>
           </tbody>
         </table>
         <!-- If payout based on WEIGHT BASIS start-->
         <table aria-describedby="table h5" class="table_ twoCol" data-heading="show" *ngIf="getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) ==
     'WEIGHT BASIS'">
           <tbody>
             <tr>
               <th scope="col">WEIGHT </th>
               <th scope="col">RATE PER KG </th>
             </tr>
             <tr
               *ngFor="let data of previewList?.safextension_Payout?.customerCommercial[m]?.deliveryWtSlabChargeList; let i = index">
               <td>{{data?.wtSlabFrom == null ? '' : data?.wtSlabFrom}} -
                 {{data?.wtSlabTo == null ? '' : data?.wtSlabTo}} </td>
               <td>Rs. {{data?.price == null ? '0' : data?.price}}</td>
             </tr>
           </tbody>
         </table>
         <table aria-describedby="table h5" class="table_ h5 fourCol 4">
           <tbody>
             <tr>
               <th scope="col">- </th>
               <th scope="col">-- </th>
               <th scope="col">-- -</th>
               <th scope="col">-- --</th>
             </tr>
             <tr>
               <td> Additional Amount Applicable</td>
               <td>{{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1 ? 'YES' : 'NO'}}</td>
               <td>
                 <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' ||
             getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) ==
             'PER TRIP'"> Trip Based On </div>
               </td>
               <td>
                 <div
                   *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType=='PER TRIP' ||
             getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId)=='PER TRIP'">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt}}
                 </div>
               </td>
             </tr>
             <tr>
               <td>
                 <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType != 'PER TRIP' &&
            previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag == 1">
                   <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'WITH CLAUSE'">Rate After Vehicle
                     Induction</span>
                   <span *ngIf="previewList?.safextension_Payout?.addtnlPymtType == 'PER WAYBILL'">Rate Per
                     Waybill</span>
                 </div>
               </td>
               <td>
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.price == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.price}}
               </td>
               <td>Same Day On Time Delivery Incentive</td>
               <td>Rs.
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.sameDayIncntv}}
               </td>
             </tr>
             <tr>
               <td>Second Day On Time Delivery Incentive</td>
               <td>Rs.
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.secondDayIncntv}}
               </td>
               <td>
                 <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag==1"> Payment Basics
                 </div>
               </td>
               <td>
                 <div *ngIf="previewList?.safextension_Payout?.customerCommercial[m]?.addtnlAmtFlag==1">
                   {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType}}
                 </div>
               </td>
             </tr>
             <tr
               *ngIf="(previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPymtType == 'PER TRIP' || getPaymentScenario(previewList?.safextension_Payout?.customerCommercial[m]?.lkpAssocDlvryPayoutOptId) == 'PER TRIP') && previewList?.safextension_Payout?.customerCommercial[m]?.tripOpt == 'HOLISTIC RATE'">
               <td> Rate Per Trip</td>
               <td>
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice == null ? 'NA' : previewList?.safextension_Payout?.customerCommercial[m]?.addtnlPrice}}
               </td>
               <td></td>
               <td></td>
             </tr>
             <tr>
               <td>Next Day On Time Delivery Incentive </td>
               <td>Rs.
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.nextDayIncntv}}
               </td>
               <td>Third Day On Time Delivery Incentive</td>
               <td>Rs.
                 {{previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv == null ? '0' : previewList?.safextension_Payout?.customerCommercial[m]?.thirdDayIncntv}}
               </td>
             </tr>
           </tbody>
         </table>
       </div>
       <!-- Customer Safextention Payout  Schedule + Sefextention selected end -->
    </section>
  </ng-container>
  <!-- Customer Safextention Payout if  only Sefextention selected end -->
 
  <!-- Ex - Gratia -->
  <table aria-describedby="table h5" class="table_ fourCol" id="General Terms" data-h5="Ex - Gratia
" data-page="newPage">
    <tbody>
      <tr>
        <th scope="col">- </th>
        <th scope="col">-- </th>
        <th scope="col">-- -</th>
        <th scope="col">-- --</th>
      </tr>
      <tr>
        <td> Ex - Gratia Applicable </td>
        <td>{{previewList?.generalTerms?.exgratiaFlag === 1 ? 'Yes' :
        'No'}}</td>
        <td> </td>
        <td> </td>
      </tr>
    </tbody>
  </table>
  <!------ If Ex- Gratia type = 'FIXED' start -------->
  <table aria-describedby="table" class="table_  fiveCol" data-heading="show"
    *ngIf="(previewList?.generalTerms?.exgratiaFlag == 1 && graciaList.length > 0) && previewList?.generalTerms?.exgratiaType == 'FIXED'">
    <tbody>
      <tr>
        <th scope="col">Branch </th>
        <th scope="col">Ex - Gratia Amount </th>
        <th scope="col">Reason</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
      </tr>
      <tr *ngFor="let gratia of graciaList; let i = index">
        <td>{{gratia.branchName == null ? 'NA' : gratia.branchName}}</td>
        <td>Rs. {{gratia.amt == null ? '0' : gratia.amt}}</td>
        <td>{{gratia.reason == null ? 'NA' : gratia.reason }}</td>
        <td>{{gratia.efftvDate == null ? 'NA' : gratia.efftvDate | date: 'dd/MM/yyyy'}}</td>
        <td>{{gratia.exprDate == null ? 'NA' : gratia.exprDate | date: 'dd/MM/yyyy'}}</td>
      </tr>
    </tbody>
  </table>
  <!------ If Ex- Gratia type = 'FIXED' start end -------->
  <!------ If Ex- Gratia type = 'CLAUSE' start -------->
  <section
    *ngIf="(previewList?.generalTerms?.exgratiaFlag == 1 && graciaList.length > 0) && previewList?.generalTerms?.exgratiaType == 'CLAUSE'">
    <div *ngFor="let gratia of graciaList; let i = index">
      <table aria-describedby="table h5" class="table_ h5 fourCol"
        id="For {{gratia?.branchName == null ? 'NA' : gratia?.branchName}}">
        <tbody>
          <tr>
            <th scope="col">- </th>
            <th scope="col">-- </th>
            <th scope="col">-- -</th>
            <th scope="col">-- --</th>
          </tr>
          <tr>
            <td>Start Date</td>
            <td>{{gratia?.efftvDate == null ? 'NA' : gratia?.efftvDate | date: 'dd/MM/yyyy'}}</td>
            <td> End Date</td>
            <td>{{gratia?.exprDate == null ? 'NA' : gratia?.exprDate | date: 'dd/MM/yyyy'}} </td>
          </tr>
        </tbody>
      </table>
      <table aria-describedby="table" class="table_  fiveCol" data-heading="show"
        *ngIf="gratia?.dlvryExGratiaList.length > 0">
        <tbody>
          <tr>
            <th scope="col">Slab Definition(In KG) </th>
            <th scope="col">Ex - Gratia Amount </th>
            <th scope="col">Reason</th>
          </tr>
          <tr *ngFor="let slab of gratia?.dlvryExGratiaList; let j = index">
            <td>{{slab?.wtSlabFrom == null ? '' : slab?.wtSlabFrom}} - {{slab?.wtSlabTo == null ? '' : slab?.wtSlabTo}}
            </td>
            <td>{{slab?.price == null ? 'NA' : slab?.price}}</td>
            <td>{{slab?.descr == null ? 'NA' : slab?.descr}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <!-- done final -->
  <!------ If Ex- Gratia type = 'CLAUSE' end  -------->
  <table aria-describedby="table" class="table_ h5 fourCol" id="Minimum Guarantee">
    <tbody>
      <tr>
        <th scope="col">-</th>
        <th scope="col">--</th>
        <th scope="col">---</th>
        <th scope="col">----</th>
      </tr>
      <tr>
        <td>MG Applicable</td>
        <td>{{previewList?.generalTerms?.mgFlag === 1 ? 'Yes' : 'No'}}</td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <table aria-describedby="table" *ngIf="(previewList?.generalTerms?.mgFlag == 1 && mgList.length > 0)"
    class="table_  sevenCol" data-heading="show">
    <tbody>
      <tr>
        <th scope="col">Branch</th>
        <th scope="col">MG Amount</th>
        <th scope="col">Reason</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
        <th scope="col">MG Cycle</th>
        <th scope="col">Month</th>
      </tr>
      <tr *ngFor="let gratia of mgList; let i = index">
        <td>{{gratia.branchName == null ? 'NA' : gratia.branchName}}</td>
        <td>Rs. {{gratia.amt == null ? '0' : gratia.amt}}</td>
        <td>{{gratia.reason == null ? 'NA' : gratia.reason}}</td>
        <td>{{gratia.efftvDate == null ? 'NA' : gratia.efftvDate | date: 'dd/MM/yyyy'}}</td>
        <td>{{gratia.exprDate == null ? 'NA' : gratia.exprDate | date: 'dd/MM/yyyy'}}</td>
        <td>{{gratia.amtCycle == null ? 'NA' : gratia.amtCycle}}</td>
        <td>{{gratia.mnth == null ? 'NA' : gratia.mnth}}</td>
      </tr>
    </tbody>
  </table>
  <table aria-describedby="table" class="table_ fourCol">
    <tbody>
      <tr>
        <th scope="col">-</th>
        <th scope="col">--</th>
        <th scope="col">---</th>
        <th scope="col">----</th>
      </tr>
      <tr>
        <td>Promotion Applicable</td>
        <td>{{previewList?.generalTerms?.promoFlag === 1 ? 'Yes' : 'No'}}</td>
        <td>Remarks </td>
        <td>{{previewList?.generalTerms?.addtnlExpnsRemark  ? previewList?.generalTerms?.addtnlExpnsRemark : ' NA' }}
        </td>
      </tr>
      <tr>
        <td>Additional Expense </td>
        <td>{{previewList?.generalTerms?.addtnlExpnsFlag === 1 ? 'Yes' : 'No'}}</td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <table aria-describedby="table" class="table_  fourCol" id="Deductions">
    <tbody>
      <tr>
        <th scope="col">-</th>
        <th scope="col">--</th>
        <th scope="col">---</th>
        <th scope="col">----</th>
      </tr>
      <tr>
        <td>SNSD Penalty</td>
        <td>{{previewList?.deliveryDeduction?.snsdPnltyFlag === 1 ? 'Yes' : 'No'}}</td>
        <td>Vehicle Absent Penalty</td>
        <td>{{previewList?.deliveryDeduction?.vehicleAbsentPnltyFlag ===  1 ? 'Yes' : 'No'}}</td>
      </tr>
      <tr>
        <td>Deduction Against Lost</td>
        <td>{{previewList?.deliveryDeduction?.dedctnLostFlag === 1 ? 'Yes' : 'No'}}</td>
        <td>Safextension Late Delivery Penalty</td>
        <td>{{previewList?.deliveryDeduction?.safextLateDlvryPnltyFlag === 1 ? 'Yes' : 'No'}}</td>
      </tr>
      <tr>
        <td>Deduction Against Market Vehicle</td>
        <td>{{previewList?.deliveryDeduction?.mktVehicleDedctnFlag === 1 ? 'Yes' : 'No'}}</td>
        <td>To Pay Outstanding Recovery</td>
        <td>{{previewList?.deliveryDeduction?.toPayRecoveryFlag === 1 ? 'Yes' : 'No'}}</td>
      </tr>
    </tbody>
  </table>
  <section *ngIf="emiList.length > 0">
    <table aria-describedby="table" id="EMI Deduction Calculation" class="table_  h5 fiveCol" data-heading="show">
      <tbody>
        <tr>
          <th scope="col">Vehicle No.</th>
          <th scope="col">Emi Amount</th>
          <th scope="col">Start Date</th>
          <th scope="col">End Date</th>
          <th scope="col">Branch ID</th>
        </tr>
        <tr *ngFor="let vehicle of emiList; let i = index">
          <td>{{vehicle.vehicleName == null ? 'NA' : vehicle.vehicleName}}</td>
          <td>Rs. {{vehicle.amt == null ? '0' : vehicle.amt}}</td>
          <td>{{vehicle.efftvDate == null ? 'NA' : vehicle.efftvDate | date: 'dd/MM/yyyy'}}</td>
          <td>{{vehicle.exprDate == null ? 'NA' : vehicle.exprDate | date: 'dd/MM/yyyy'}}</td>
          <td>{{vehicle.branchName == null ? 'NA' : vehicle.branchName}}</td>
        </tr>
      </tbody>
    </table>
  </section>
  <table *ngIf="insuranceList.length > 0" aria-describedby="table" id="Insurance Deduction Calculation"
    class="table_ h5  fiveCol" data-heading="show">
    <tbody>
      <tr>
        <th scope="col">Vehicle No.</th>
        <th scope="col">Amount</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
        <th scope="col">Branch ID</th>
      </tr>
      <tr *ngFor="let vehicle of insuranceList; let i = index">
        <td>{{vehicle.vehicleName == null ? 'NA' : vehicle.vehicleName }}</td>
        <td>Rs. {{vehicle.amt == null ? '0' : vehicle.amt}}</td>
        <td>{{vehicle.efftvDate  == null ? 'NA' : vehicle.efftvDate | date: 'dd/MM/yyyy'}}</td>
        <td>{{vehicle.exprDate == null ? 'NA' : vehicle.exprDate | date: 'dd/MM/yyyy'}}</td>
        <td>{{vehicle.branchName == null ? 'NA' : vehicle.branchName}}</td>
      </tr>
    </tbody>
  </table>
  <table aria-describedby="table" id="Advance Amount Applicable" class="table_ h5  fourCol">
    <tbody>
      <tr>
        <th scope="col">-</th>
        <th scope="col">--</th>
        <th scope="col">---</th>
        <th scope="col">---</th>
      </tr>
      <tr>
        <td>Advance Amount Applicable</td>
        <td>{{previewList?.deliveryDeduction?.advncDedctnAmtFlag ===1 ? 'YES' : 'NO'}} </td>
        <td>
          <span *ngIf="previewList?.deliveryDeduction?.advncDedctnAmtFlag==1">Start Date</span>
        </td>
        <td>
          <span *ngIf="previewList?.deliveryDeduction?.advncDedctnAmtFlag==1">{{previewList?.deliveryDeduction?.advncDedctnAmtFromDt == null ? 'NA' : previewList?.deliveryDeduction?.advncDedctnAmtFromDt |
          date: 'dd/MM/yyyy'}} </span>
        </td>
      </tr>
      <tr *ngIf="previewList?.deliveryDeduction?.advncDedctnAmtFlag==1">
        <td>Advance Amount to be Deducted </td>
        <td>Rs.
          {{previewList?.deliveryDeduction?.advncDedctnAmt == null ? '0' : previewList?.deliveryDeduction?.advncDedctnAmt}}
        </td>
        <td>end Date</td>
        <td>{{previewList?.deliveryDeduction?.advncDedctnAmtToDt == null ? 'NA' : previewList?.deliveryDeduction?.advncDedctnAmtToDt | date:
          'dd/MM/yyyy'}}</td>
      </tr>
    </tbody>
  </table>
</div>
